<!doctype html>
<html lang="en-us">
  <head>
    <title>State Synchronization Protocol // Bodacious Blog</title>
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.82.0-DEV" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="Shane Mulligan" />
    <meta name="description" content="" />

    
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                                                          new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                                                                                                    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                                                                                                      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-P2LH46P');</script>
    

    <link rel="stylesheet" href="https://mullikine.github.io/css/main.min.74b7ce8969da573c135a6e8e56284812583cc4a84e83b075f17ca5a7f84a7d40.css" />

    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="State Synchronization Protocol"/>
<meta name="twitter:description" content=" Original article Mosh - YouTube Paper https://mosh.org/mosh-paper.pdf  SSP protocol State Synchronization Protocol:
A new secure object synchronization protocol on top of UDP to synchronize abstract state objects in the presence of roaming, intermittent connectivity, and marginal networks.
Transcript from video 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294  thank you very much I&#39;m thrilled to be here today I&#39;m talking about mas which is a new mobile shell it&#39;s like SSH this guy accepted supports roaming it lets you have intermittent connectivity and it it produces a much better user interface so let&#39;s talk about sort of the status quo we&#39;re not going to get into the prehistory but who here has used SSH to connect from one computer to another all right let&#39;s call that everybody so we all know about SSH it uses TCP it connects the two computers together whatever you type at the local terminal gets sent via TCP to the remote host and what are the whatever the application prints comes back to your screen all the user interface comes from the server including whatever you type you have to wait for those packets to go to the network and back just even see what you&#39;re typing so this this was great in based on what&#39;s happened with the internet over the last 17 years which is a lot you can&#39;t roam with SSH if you&#39;re at work and you put your laptop to sleep and you bring it home you don&#39;t have your connection anymore you can&#39;t even roam for one Wi-Fi network to another or from Wi-Fi to cellular yeah an SSH because it runs over TCP responds poorly to packet loss so if you&#39;re on one of these terrible networks like on Amtrak you really can&#39;t expect use SSH we argue that the root cause of this is that this octet stream which SSH sends it&#39;s certainly the wrong layer of abstraction for this kind of application if you&#39;re the client you want to see the latest screen from the application what is the current contents of the screen if you have an interruption in your connectivity for let&#39;s say five seconds you know you really just want to know what should I be looking at now but SSH doesn&#39;t understand what it&#39;s sending so it has to send you everything the application is printed out it could be megabytes just to get you to that current screen state and TCP of course fills up all these Network buffers so then you&#39;re getting all this output from a runaway process in your control C control this is not a new problem I think to anyone here and then it keeps coming and this is just terrible and trying to type you know when you have these huge delays today&#39;s networks it&#39;s not like you know the ARPANET which was you know much faster today we&#39;ve measured with Verizon&#39;s top product therefore G LTE we&#39;ve measured delays of 40 seconds around trip time when you have one TCP download happening so trying to type where you only see what you&#39;re typing forty seconds later that&#39;s that&#39;s terrible so here&#39;s what we built we build two things the first is a new protocol to synchronize not octet streams but objects it&#39;s object synchronization protocol the goal is to have the lowest latency possible in the presence of client roaming you can you can put to sleep for an hour or 10 hours fly to Europe wake it up again you can have a lossy Network path we try and do our best to synchronize abstract objects and number two we use that protocol to build this mobile shell application mush that has a local user interface so when you type you see what you typed immediately so let&#39;s talk about part one the protocol we call it the state synchronization protocol it runs over UDP and it synchronizes the state of abstract objects so the protocol doesn&#39;t have to know the inner details of these objects but the object has to support a simple interface the SSP has to be able to inquire of the object hey here&#39;s the state that I think the receiver has state 3 and I want to get them to state between state 3 and state 9 and that&#39;s just a string and that&#39;s what we convey over the network and object also has to support the universe operation patch to say ok number 3 here&#39;s a patch please mutate yourself to state number 9 so any kind of object that supports that interface can be conveyed over this protocol but it&#39;s we don&#39;t know really the meaning of the object or the meaning of different patch you know whether it&#39;s reliable whether it&#39;s exactly the same or not it&#39;s the objects implementation that ultimately defines the semantics of the protocol not SSP so here&#39;s a diagram of SSH this is the system we all know and have modest affection for there&#39;s the application Emacs on the left it gets conveyed over tcp encrypted tcp to our terminal on the right so we&#39;re going to fill this in here&#39;s SS here&#39;s maj here&#39;s the design of maj so instead we&#39;re just conveying that octet stream we actually represent explicitly in blue here the state that we&#39;re synchronizing we run two copies of s SP two copies of the protocol the version from server to client synchronizes this screen object so we run a terminal emulator at the server that spits out these screen objects and that&#39;s what we synchronize at whatever rate we want and we feed that to the clients terminal emulator like X term and in the reverse direction we just synchronize the keystrokes that you type some of the more minor details it&#39;s protected by the one of these authenticated encryption modes there&#39;s no privilege code an entire project nothing is route you don&#39;t to be route to install it no Damons we use SSH to authenticate you in the first place and this design makes it very easy to roam because we&#39;re not using TCP anymore we&#39;re not bound to IP addresses so roaming becomes trivial the server just says ok what is the latest authentic Datagram that I received from the client the latest one and whatever the source IP address important number of that Datagram is ok that&#39;s my new target I&#39;m going to send all the new packets to so this is the simplest possible way to do roaming it works very well and it means the client doesn&#39;t even have to know that it&#39;s wrong the client could be behind in that and in that roam where that&#39;s still ok we have we tried to do fancy flow control the goal is never fill up a buffer we can skip over States in between that&#39;s ok and we have some tricks that we describe else or to try and balance the robustness of the connection versus the throughput ok now let&#39;s talk about the local user interface so this is the diagram I showed you but actually we going to add one little feature in the upper right loop the predictive local echo so instead of rendering directly the service screen state we mutate a little bit based on what we think is going to appear we have a simple algorithm for this the client runs a predictive model of the users of the cert of the applications behavior the client runs a pretty good model the applications behavior in the background we think when you type it&#39;s probably going to be echoed but we&#39;re not sure because about echoed like in VI you hit I to insert you know that in I never appears on the screen so we try and make these predictions in groups we call epics and the hypothesis is that any epoch is either entirely echoed or not echoed and so we start predicting just in the background if any prediction with an epoch gets confirm then we show the whole epoch and if we make a mistake no big deal we just take away the epoch and if we if the user does something that we don&#39;t know how to handle like it&#39;s the Enter key you know or up and down and that sure it&#39;s gonna happen we just increment the epoch so we keep predicting but it&#39;s in the background so this turns out to work pretty well and I&#39;ll show you a demo here we&#39;re connected back to to my desktop on the top screen we&#39;re typing in mosh and the bottom screen we&#39;re typing in SSH and then just running over the conference Wi-Fi so if the Wi-Fi is good we&#39;re not going to see a big difference so this is a real not rigged demo let&#39;s see here so hello USENIX I am happy to be here ok so that&#39;s basically similar now let&#39;s say you know the conference Wi-Fi is terrible you guys going to help me out there let&#39;s switch over to the Sprint EVDO network so we&#39;re roaming here disconnect it now Maj gives you this helpful error message hey the networks unreachable and then go way-hey you know I haven&#39;t heard for the serve in a while okay everything&#39;s goodness so now it appears we&#39;ve roamed in both terminals mosh everything looks good SSH everything looks good hey let&#39;s let&#39;s keep typing boy am I happy that worked oh my god what&#39;s happening so Maj keeps working SSH is totally dead but it doesn&#39;t even tell us it&#39;s dead that is the most offensive part of SSH so now we have to do this dance we have to kill it and then SSH again this is like I could have graduated by now okay so now this is over the sprint one night let&#39;s put throw in a download here just make it more fun testing what happens when I type on the top with mosh and so you can see if I try and edit type very aggressively on the top whoops so you can see it&#39;s just much more pleasant here and it underlines the show you know hey these haven&#39;t been confirmed by the server yet this is another another test so you just you really couldn&#39;t even expect to use SSH and still enjoy life so that&#39;s the demo we evaluated at the details of evaluation in the paper we found 70% of user keystrokes can be displayed instantly so our media and user interface response is zero it works over lossy links we found that Unicode on UNIX is still full of bugs the details of that are on our website but you can see if you echo the same string to four different terminal emulators you get the circumflex in four different places the Mac OS version has a particular unique interpretation so we put a lot of work into making this a well baked application that you could use it&#39;s distributed with all kinds of versions of Linux and it&#39;s in the Mac the various Mac and FreeBSD ports collections it works sort of on cygwin and Solaris and even less on Android in April someone else posted it before we were ready to all these new sites slash dot vara punto the spanish slash dot 1200 people have signed up to get a notice when we ever fix a bug this is where we immodestly show our admiring tweets we got you know it seems to have struck a nerve with people also we got a rise out of the USENIX reviewers which we enjoyed so people seem to be really using it but we think that you know this is not just about a mobile shell protocol this sort of paradigm of object synchronization we think is appropriate for other applications our program can roam but even very very well funded applications for mobile devices nominally intended for mobility are not mobile Android Gmail Google Chat skyping jingle the website all of these things will break without even disclosing it when you roam that&#39;s just ridiculous this is a snapshot from yesterday from my Android device I sent this email on February 6th or I tried to but as I was looking out of our building the device you know I lost the Wi-Fi signal so it roamed to the cellular connection but because it happened right in the middle of the transfer Gmail got confused and this email still four months later has not been sent so I Jessica&#39;s like wondering where I am if any Google employees in the office you want to come up after the break help me send this email I&#39;d appreciate it but the point the point is that the old way of writing these programs for mobile devices that it doesn&#39;t make the mobile and they should be this is crazy other people should adopt this paradigm we argue so in summary we made SSP a new protocol we made mash which uses it which has become very popular but we argue that this paradigm is probably useful we hope for other applications and should deserve further review we encourage you to visit the web page and I&#39;m honored to have your questions questions Louis Bennett from around here um we&#39;re trying to use this someone has asked for this to be installed on our systems but I&#39;m behind a firewall and I want to know what ports I have to open and what what arguments I&#39;m going to get from Network security which aren&#39;t very friendly to us sure I&#39;m happy to talk to you about that in general you know you have to you have to open as many ports on the machine as you want concurrent connections because that&#39;s how we identify the connection is just by the port number since the IP address can change if you want to allow 10 connections to a machine you have to open 10 ports that&#39;s that&#39;s the story but we&#39;re working on on a better answer that question thank you time for one more what is an analogy for that predictive echo for Gmail is there any like she already has a pretty good local user interface and when you type you do see what you&#39;re typing immediately so I don&#39;t think Gmail is actually as bad as the is the terminal application Thanks ok thank you very much thank you   "/>

    <meta property="og:title" content="State Synchronization Protocol" />
<meta property="og:description" content=" Original article Mosh - YouTube Paper https://mosh.org/mosh-paper.pdf  SSP protocol State Synchronization Protocol:
A new secure object synchronization protocol on top of UDP to synchronize abstract state objects in the presence of roaming, intermittent connectivity, and marginal networks.
Transcript from video 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294  thank you very much I&#39;m thrilled to be here today I&#39;m talking about mas which is a new mobile shell it&#39;s like SSH this guy accepted supports roaming it lets you have intermittent connectivity and it it produces a much better user interface so let&#39;s talk about sort of the status quo we&#39;re not going to get into the prehistory but who here has used SSH to connect from one computer to another all right let&#39;s call that everybody so we all know about SSH it uses TCP it connects the two computers together whatever you type at the local terminal gets sent via TCP to the remote host and what are the whatever the application prints comes back to your screen all the user interface comes from the server including whatever you type you have to wait for those packets to go to the network and back just even see what you&#39;re typing so this this was great in based on what&#39;s happened with the internet over the last 17 years which is a lot you can&#39;t roam with SSH if you&#39;re at work and you put your laptop to sleep and you bring it home you don&#39;t have your connection anymore you can&#39;t even roam for one Wi-Fi network to another or from Wi-Fi to cellular yeah an SSH because it runs over TCP responds poorly to packet loss so if you&#39;re on one of these terrible networks like on Amtrak you really can&#39;t expect use SSH we argue that the root cause of this is that this octet stream which SSH sends it&#39;s certainly the wrong layer of abstraction for this kind of application if you&#39;re the client you want to see the latest screen from the application what is the current contents of the screen if you have an interruption in your connectivity for let&#39;s say five seconds you know you really just want to know what should I be looking at now but SSH doesn&#39;t understand what it&#39;s sending so it has to send you everything the application is printed out it could be megabytes just to get you to that current screen state and TCP of course fills up all these Network buffers so then you&#39;re getting all this output from a runaway process in your control C control this is not a new problem I think to anyone here and then it keeps coming and this is just terrible and trying to type you know when you have these huge delays today&#39;s networks it&#39;s not like you know the ARPANET which was you know much faster today we&#39;ve measured with Verizon&#39;s top product therefore G LTE we&#39;ve measured delays of 40 seconds around trip time when you have one TCP download happening so trying to type where you only see what you&#39;re typing forty seconds later that&#39;s that&#39;s terrible so here&#39;s what we built we build two things the first is a new protocol to synchronize not octet streams but objects it&#39;s object synchronization protocol the goal is to have the lowest latency possible in the presence of client roaming you can you can put to sleep for an hour or 10 hours fly to Europe wake it up again you can have a lossy Network path we try and do our best to synchronize abstract objects and number two we use that protocol to build this mobile shell application mush that has a local user interface so when you type you see what you typed immediately so let&#39;s talk about part one the protocol we call it the state synchronization protocol it runs over UDP and it synchronizes the state of abstract objects so the protocol doesn&#39;t have to know the inner details of these objects but the object has to support a simple interface the SSP has to be able to inquire of the object hey here&#39;s the state that I think the receiver has state 3 and I want to get them to state between state 3 and state 9 and that&#39;s just a string and that&#39;s what we convey over the network and object also has to support the universe operation patch to say ok number 3 here&#39;s a patch please mutate yourself to state number 9 so any kind of object that supports that interface can be conveyed over this protocol but it&#39;s we don&#39;t know really the meaning of the object or the meaning of different patch you know whether it&#39;s reliable whether it&#39;s exactly the same or not it&#39;s the objects implementation that ultimately defines the semantics of the protocol not SSP so here&#39;s a diagram of SSH this is the system we all know and have modest affection for there&#39;s the application Emacs on the left it gets conveyed over tcp encrypted tcp to our terminal on the right so we&#39;re going to fill this in here&#39;s SS here&#39;s maj here&#39;s the design of maj so instead we&#39;re just conveying that octet stream we actually represent explicitly in blue here the state that we&#39;re synchronizing we run two copies of s SP two copies of the protocol the version from server to client synchronizes this screen object so we run a terminal emulator at the server that spits out these screen objects and that&#39;s what we synchronize at whatever rate we want and we feed that to the clients terminal emulator like X term and in the reverse direction we just synchronize the keystrokes that you type some of the more minor details it&#39;s protected by the one of these authenticated encryption modes there&#39;s no privilege code an entire project nothing is route you don&#39;t to be route to install it no Damons we use SSH to authenticate you in the first place and this design makes it very easy to roam because we&#39;re not using TCP anymore we&#39;re not bound to IP addresses so roaming becomes trivial the server just says ok what is the latest authentic Datagram that I received from the client the latest one and whatever the source IP address important number of that Datagram is ok that&#39;s my new target I&#39;m going to send all the new packets to so this is the simplest possible way to do roaming it works very well and it means the client doesn&#39;t even have to know that it&#39;s wrong the client could be behind in that and in that roam where that&#39;s still ok we have we tried to do fancy flow control the goal is never fill up a buffer we can skip over States in between that&#39;s ok and we have some tricks that we describe else or to try and balance the robustness of the connection versus the throughput ok now let&#39;s talk about the local user interface so this is the diagram I showed you but actually we going to add one little feature in the upper right loop the predictive local echo so instead of rendering directly the service screen state we mutate a little bit based on what we think is going to appear we have a simple algorithm for this the client runs a predictive model of the users of the cert of the applications behavior the client runs a pretty good model the applications behavior in the background we think when you type it&#39;s probably going to be echoed but we&#39;re not sure because about echoed like in VI you hit I to insert you know that in I never appears on the screen so we try and make these predictions in groups we call epics and the hypothesis is that any epoch is either entirely echoed or not echoed and so we start predicting just in the background if any prediction with an epoch gets confirm then we show the whole epoch and if we make a mistake no big deal we just take away the epoch and if we if the user does something that we don&#39;t know how to handle like it&#39;s the Enter key you know or up and down and that sure it&#39;s gonna happen we just increment the epoch so we keep predicting but it&#39;s in the background so this turns out to work pretty well and I&#39;ll show you a demo here we&#39;re connected back to to my desktop on the top screen we&#39;re typing in mosh and the bottom screen we&#39;re typing in SSH and then just running over the conference Wi-Fi so if the Wi-Fi is good we&#39;re not going to see a big difference so this is a real not rigged demo let&#39;s see here so hello USENIX I am happy to be here ok so that&#39;s basically similar now let&#39;s say you know the conference Wi-Fi is terrible you guys going to help me out there let&#39;s switch over to the Sprint EVDO network so we&#39;re roaming here disconnect it now Maj gives you this helpful error message hey the networks unreachable and then go way-hey you know I haven&#39;t heard for the serve in a while okay everything&#39;s goodness so now it appears we&#39;ve roamed in both terminals mosh everything looks good SSH everything looks good hey let&#39;s let&#39;s keep typing boy am I happy that worked oh my god what&#39;s happening so Maj keeps working SSH is totally dead but it doesn&#39;t even tell us it&#39;s dead that is the most offensive part of SSH so now we have to do this dance we have to kill it and then SSH again this is like I could have graduated by now okay so now this is over the sprint one night let&#39;s put throw in a download here just make it more fun testing what happens when I type on the top with mosh and so you can see if I try and edit type very aggressively on the top whoops so you can see it&#39;s just much more pleasant here and it underlines the show you know hey these haven&#39;t been confirmed by the server yet this is another another test so you just you really couldn&#39;t even expect to use SSH and still enjoy life so that&#39;s the demo we evaluated at the details of evaluation in the paper we found 70% of user keystrokes can be displayed instantly so our media and user interface response is zero it works over lossy links we found that Unicode on UNIX is still full of bugs the details of that are on our website but you can see if you echo the same string to four different terminal emulators you get the circumflex in four different places the Mac OS version has a particular unique interpretation so we put a lot of work into making this a well baked application that you could use it&#39;s distributed with all kinds of versions of Linux and it&#39;s in the Mac the various Mac and FreeBSD ports collections it works sort of on cygwin and Solaris and even less on Android in April someone else posted it before we were ready to all these new sites slash dot vara punto the spanish slash dot 1200 people have signed up to get a notice when we ever fix a bug this is where we immodestly show our admiring tweets we got you know it seems to have struck a nerve with people also we got a rise out of the USENIX reviewers which we enjoyed so people seem to be really using it but we think that you know this is not just about a mobile shell protocol this sort of paradigm of object synchronization we think is appropriate for other applications our program can roam but even very very well funded applications for mobile devices nominally intended for mobility are not mobile Android Gmail Google Chat skyping jingle the website all of these things will break without even disclosing it when you roam that&#39;s just ridiculous this is a snapshot from yesterday from my Android device I sent this email on February 6th or I tried to but as I was looking out of our building the device you know I lost the Wi-Fi signal so it roamed to the cellular connection but because it happened right in the middle of the transfer Gmail got confused and this email still four months later has not been sent so I Jessica&#39;s like wondering where I am if any Google employees in the office you want to come up after the break help me send this email I&#39;d appreciate it but the point the point is that the old way of writing these programs for mobile devices that it doesn&#39;t make the mobile and they should be this is crazy other people should adopt this paradigm we argue so in summary we made SSP a new protocol we made mash which uses it which has become very popular but we argue that this paradigm is probably useful we hope for other applications and should deserve further review we encourage you to visit the web page and I&#39;m honored to have your questions questions Louis Bennett from around here um we&#39;re trying to use this someone has asked for this to be installed on our systems but I&#39;m behind a firewall and I want to know what ports I have to open and what what arguments I&#39;m going to get from Network security which aren&#39;t very friendly to us sure I&#39;m happy to talk to you about that in general you know you have to you have to open as many ports on the machine as you want concurrent connections because that&#39;s how we identify the connection is just by the port number since the IP address can change if you want to allow 10 connections to a machine you have to open 10 ports that&#39;s that&#39;s the story but we&#39;re working on on a better answer that question thank you time for one more what is an analogy for that predictive echo for Gmail is there any like she already has a pretty good local user interface and when you type you do see what you&#39;re typing immediately so I don&#39;t think Gmail is actually as bad as the is the terminal application Thanks ok thank you very much thank you   " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://mullikine.github.io/posts/state-synchronization-protocol/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-06-06T00:00:00&#43;12:00" />
<meta property="article:modified_time" content="2020-06-06T00:00:00&#43;12:00" /><meta property="og:site_name" content="Bodacious Blog" />



    
    
    

  </head>
  <body>

    
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P2LH46P"
                height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    


    <header class="app-header">

<a href="https://mullikine.github.io"><img class="app-header-avatar" src="http://mullikine.github.io/fievel.png" alt="Shane Mulligan" /></a>
      <h1>Bodacious Blog</h1>
      
      <div class="app-header-social">
        
          <a target="_blank" href="https://github.com/mullikine"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github">
  <title>github</title>
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
</svg></a>
        
          <a target="_blank" href="https://linkedin.com/in/shane-mulligan-811b942b/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-linkedin">
  <title>linkedin</title>
  <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle>
</svg></a>
        
          <a target="_blank" href="https://gitlab.com/mullikine"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-gitlab">
  <title>gitlab</title>
  <path d="M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"></path>
</svg></a>
        
          <a target="_blank" href="https://twitter.com/mullikine"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-twitter">
  <title>twitter</title>
  <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>
</svg></a>
        
        <a href="https://mullikine.github.io/cv/">CV</a>
      </div>
<div class="highlights">
<a href="https://mullikine.github.io/posts/practical-macros-in-racket-and-how-to-work-with-them/">Practical macros in Racket</a>
<br />
<a href="https://mullikine.github.io/posts/generating-hyperlinks-for-glossaries-and-other-parsers-in-emacs/">Hyperlink generation in emacs</a>
<br />
<a href="https://mullikine.github.io/posts/github-search-with-bigquery/">Searching GitHub with BigQuery</a>

<br />
<a href="https://mullikine.github.io/posts/review-of-the-case-for-learned-index-structures/">Case for Learned Index Structures</a>
<br />
<a href="https://mullikine.github.io/posts/arbitrary-interpreters-for-babel/">Arbitrary interpreters for Babel</a>
<br />
<a href="https://mullikine.github.io/glossary.html">Glossary A-Z (298 topics)</a> <a href="https://github.com/mullikine/glossaries-gh">code</a>
<br />
<a href="https://mullikine.github.io/posts/dwarf-fortress-macros-with-emacs-and-tmux/">Automating Dwarf Fortress</a>
<br />
<a href="https://mullikine.github.io/posts/review-of-the-illustrated-transformer/">The Illustrated Transformer</a>
<br />
<a href="https://mullikine.github.io/codelingo-vs-linters/summary/">CodeLingo vs Linters</a>
<br />
<a class="big" href="https://infogetics.github.io/">Infogetics on GitHub</a>
<br />
<a class="big" href="https://github.com/semiosis">Semiosis on GitHub</a>
<br />
<a class="big" href="https://takaheai.github.io/">TakaheAI on GitHub</a>
<br />
<div class="taglist">

  <a class="tag" href="https://mullikine.github.io/tags/gpt/">GPT (Generative Pre-trained Transformer)</a>
<a class="tag" href="https://mullikine.github.io/tags/biosemiotics/">biosemiotics</a>
<a class="tag" href="https://mullikine.github.io/tags/xenolinguistics/">xenolinguistics</a>
<a class="tag big" href="https://mullikine.github.io/tags/emacs/">emacs</a>
<a class="tag" href="https://mullikine.github.io/tags/elisp/">elisp</a>
<a class="tag" href="https://mullikine.github.io/tags/racket/">racket</a>
<a class="tag" href="https://mullikine.github.io/tags/haskell/">haskell</a>
<a class="tag" href="https://mullikine.github.io/tags/nlp/">NLP</a>
<a class="tag" href="https://mullikine.github.io/tags/docker/">docker</a>
<a class="tag" href="https://mullikine.github.io/tags/feature-engineering/">feature-engineering</a>
<a class="tag big" href="https://mullikine.github.io/tags/ir/">IR</a>
<a class="tag" href="https://mullikine.github.io/tags/games/">games</a>
<a class="tag" href="https://mullikine.github.io/tags/data/">data</a>
<a class="tag" href="https://mullikine.github.io/tags/info/">info theory</a>
<a class="tag" href="https://mullikine.github.io/tags/probability/">probability</a>
<a class="tag" href="https://mullikine.github.io/tags/problog/">problog</a>
<a class="tag big" href="https://mullikine.github.io/tags/shell/">shell</a>

<a class="tag" href="https://mullikine.github.io/tags/tooling/">tooling</a>
<a class="tag" href="https://mullikine.github.io/tags/iac/">IaC</a>
<a class="tag big" href="https://mullikine.github.io/tags/facebook/">Facebook</a>
<a class="tag" href="https://mullikine.github.io/tags/wfh/">WFH</a>


<a class="tag" href="https://mullikine.github.io/tags/babel/">babel</a>

<a class="tag" href="https://mullikine.github.io/tags/gcp/">GCP</a>
<a class="tag big" href="https://mullikine.github.io/tags/github/">GitHub</a>
<a class="tag" href="https://mullikine.github.io/tags/parsers/">parsers</a>
<a class="tag" href="https://mullikine.github.io/tags/rust/">rust</a>
<a class="tag" href="https://mullikine.github.io/tags/cpp/">c++</a>
<a class="tag" href="https://mullikine.github.io/tags/review/">review</a>
<a class="tag" href="https://mullikine.github.io/tags/kaggle/">kaggle</a>
<a class="tag" href="https://mullikine.github.io/tags/dl/">deep learning</a>
<a class="tag" href="https://mullikine.github.io/tags/dsl/">DSL</a>
<a class="tag" href="https://mullikine.github.io/tags/music/">music</a>
<a class="tag" href="https://mullikine.github.io/tags/df/">dwarf fortress</a>
<a class="tag" href="https://mullikine.github.io/tags/spacy/">spacy</a>
<a class="tag" href="https://mullikine.github.io/tags/latex/">latex</a>
<a class="tag" href="https://mullikine.github.io/tags/nix/">Nix</a>
<a class="tag" href="https://mullikine.github.io/tags/diagrams/">diagrams</a>
<a class="tag" href="https://mullikine.github.io/tags/python/">python</a>
<a class="tag" href="https://mullikine.github.io/tags/neural-engineering/">neural-engineering</a>
<a class="tag" href="https://mullikine.github.io/tags/golang/">golang</a>
<a class="tag" href="https://mullikine.github.io/tags/codelingo/">codelingo</a>
<a class="tag" href="https://mullikine.github.io/tags/aws/">AWS</a>
<a class="tag" href="https://mullikine.github.io/tags/perl/">perl</a>
<a class="tag big" href="https://mullikine.github.io/tags/vim/">vim</a>
<a class="tag" href="https://mullikine.github.io/tags/telco/">telco</a>
<a class="tag" href="https://mullikine.github.io/tags/automation/">automation</a>
<a class="tag" href="https://mullikine.github.io/tags/optimisation/">optimisation</a>
<a class="tag" href="https://mullikine.github.io/tags/release/">release</a>
<a class="tag" href="https://mullikine.github.io/tags/dotnet/">.NET</a>
<a class="tag" href="https://mullikine.github.io/tags/csharp/">csharp</a>
<a class="tag big" href="https://mullikine.github.io/tags/uber/">Uber</a>
<a class="tag" href="https://mullikine.github.io/tags/math/">math</a>
<a class="tag" href="https://mullikine.github.io/tags/microsoft/">Microsoft</a>
<a class="tag big" href="https://mullikine.github.io/tags/neuralink/">Neuralink</a>
<a class="tag big" href="https://mullikine.github.io/tags/openai/">OpenAI</a>
<a class="tag" href="https://mullikine.github.io/tags/terminals/">terminals</a>
<a class="tag" href="https://mullikine.github.io/tags/transformer/">transformer</a>
<a class="tag big" href="https://mullikine.github.io/tags/codegen/">code-gen</a>
<a class="tag" href="https://mullikine.github.io/tags/rosie/">rosie</a>
<a class="tag" href="https://mullikine.github.io/tags/terraform/">Terraform</a>
<a class="tag" href="https://mullikine.github.io/tags/elasticsearch/">ELK</a>
<a class="tag" href="https://mullikine.github.io/tags/semmle/">Semmle</a>
<a class="tag" href="https://mullikine.github.io/tags/expect/">tcl/expect</a>
<a class="tag" href="https://mullikine.github.io/tags/solr/">solr</a>
</div>
</div>



</div>
<div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <div class="post-footer phone">
      <p>
        <a href="https://mullikine.github.io/">Latest articles</a>
        &nbsp;
        âš”
        &nbsp;
        <a href="https://mullikine.github.io/tags/">Site Map</a>
      </p>
    </div>
    <header class="post-header">
      <h1 class ="post-title">State Synchronization Protocol</h1>
      <div class="post-meta">
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Jun 6, 2020
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          13 min read
        </div><div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag">
  <title>tag</title>
  <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line>
</svg>
          <a class="tag" href="https://mullikine.github.io/tags/protocols/">protocols</a></div></div>
    </header>
    

<link rel="stylesheet" type="text/css" href="https://mullikine.github.io/css/magit.css"/>

<script src="https://mullikine.github.io/js/mathjax-config.js"></script>
 
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_HTML"></script>


    <div class="post-content">
      <dl>
<dt>Original article</dt>
<dd><a href="https://www.youtube.com/watch?v=XsIxNYl0oyU">Mosh - YouTube</a></dd>
<dt>Paper</dt>
<dd><a href="https://mosh.org/mosh-paper.pdf">https://mosh.org/mosh-paper.pdf</a></dd>
</dl>
<h2 id="ssp-protocol">SSP protocol</h2>
<p>State Synchronization Protocol:</p>
<p>A new secure object synchronization protocol
on top of UDP to synchronize abstract state
objects in the presence of roaming,
intermittent connectivity, and marginal
networks.</p>
<h2 id="transcript-from-video">Transcript from video</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 42
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 43
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 45
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 46
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 47
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 48
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 49
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 50
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 51
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 52
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 53
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 54
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 55
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 56
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 57
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 58
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 59
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 60
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 61
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 62
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 63
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 64
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 65
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 66
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 67
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 68
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 69
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 70
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 71
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 72
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 73
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 74
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 75
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 76
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 77
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 78
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 79
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 80
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 81
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 82
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 83
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 84
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 85
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 86
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 87
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 88
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 89
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 90
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 91
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 92
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 93
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 94
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 95
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 96
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 97
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 98
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 99
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">100
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">101
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">102
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">103
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">104
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">105
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">106
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">107
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">108
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">109
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">110
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">111
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">112
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">113
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">114
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">115
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">116
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">117
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">118
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">119
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">120
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">121
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">122
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">123
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">124
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">125
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">126
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">127
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">128
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">129
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">130
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">131
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">132
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">133
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">134
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">135
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">136
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">137
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">138
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">139
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">140
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">141
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">142
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">143
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">144
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">145
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">146
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">147
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">148
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">149
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">150
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">151
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">152
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">153
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">154
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">155
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">156
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">157
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">158
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">159
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">160
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">161
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">162
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">163
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">164
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">165
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">166
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">167
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">168
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">169
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">170
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">171
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">172
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">173
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">174
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">175
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">176
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">177
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">178
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">179
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">180
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">181
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">182
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">183
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">184
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">185
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">186
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">187
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">188
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">189
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">190
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">191
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">192
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">193
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">194
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">195
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">196
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">197
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">198
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">199
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">200
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">201
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">202
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">203
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">204
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">205
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">206
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">207
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">208
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">209
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">210
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">211
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">212
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">213
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">214
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">215
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">216
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">217
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">218
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">219
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">220
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">221
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">222
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">223
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">224
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">225
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">226
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">227
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">228
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">229
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">230
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">231
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">232
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">233
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">234
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">235
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">236
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">237
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">238
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">239
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">240
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">241
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">242
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">243
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">244
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">245
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">246
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">247
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">248
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">249
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">250
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">251
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">252
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">253
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">254
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">255
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">256
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">257
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">258
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">259
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">260
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">261
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">262
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">263
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">264
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">265
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">266
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">267
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">268
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">269
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">270
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">271
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">272
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">273
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">274
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">275
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">276
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">277
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">278
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">279
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">280
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">281
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">282
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">283
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">284
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">285
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">286
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">287
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">288
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">289
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">290
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">291
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">292
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">293
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">294
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">thank you very much I&#39;m thrilled to be here
today I&#39;m talking about mas which is a new
mobile shell it&#39;s like SSH this guy accepted
supports roaming it lets you have intermittent
connectivity and it it produces a much better
user interface so let&#39;s talk about sort of the
status quo we&#39;re not going to get into the
prehistory but who here has used SSH to
connect from one computer to another all right
let&#39;s call that everybody so we all know about
SSH it uses TCP it connects the two computers
together whatever you type at the local
terminal gets sent via TCP to the remote host
and what are the whatever the application
prints comes back to your screen all the user
interface comes from the server including
whatever you type

you have to wait for those packets to go to
the network and back just even see what you&#39;re
typing so this this was great in based on
what&#39;s happened with the internet over the
last 17 years which is a lot you can&#39;t roam
with SSH if you&#39;re at work and you put your
laptop to sleep and you bring it home you
don&#39;t have your connection anymore you can&#39;t
even roam for one Wi-Fi network to another or
from Wi-Fi to cellular yeah an SSH because it
runs over TCP responds poorly to packet loss
so if you&#39;re on one of these terrible networks
like on Amtrak you really can&#39;t expect use SSH
we argue that the root cause of this is that
this octet stream which SSH sends it&#39;s
certainly the wrong layer of abstraction for
this kind of application if you&#39;re the client
you want to see the latest screen from the
application what is the current contents of
the screen if you have an interruption in your
connectivity for let&#39;s say five seconds you
know you really just want to know what should
I be looking at now but SSH doesn&#39;t understand
what it&#39;s sending so it has to send you
everything the application is printed out it
could be megabytes just to get you to that
current screen state and TCP of course fills
up all these Network buffers so then you&#39;re
getting all this output from a runaway process
in your control C control this is not a new
problem I think to anyone here and then it
keeps coming and this is just terrible and

trying to type you know when you have these
huge delays today&#39;s networks it&#39;s not like you
know the ARPANET which was you know much
faster today we&#39;ve measured with Verizon&#39;s top
product therefore G LTE we&#39;ve measured delays
of 40 seconds around trip time when you have
one TCP download happening so trying to type
where you only see what you&#39;re typing forty
seconds later that&#39;s that&#39;s terrible so here&#39;s
what we built we build two things the first is
a new protocol to synchronize not octet
streams but objects it&#39;s object
synchronization protocol the goal is to have
the lowest latency possible in the presence of
client roaming you can you can put to sleep
for an hour or 10 hours fly to Europe wake it
up again you can have a lossy Network path we
try and do our best to synchronize abstract
objects and number two we use that protocol to
build this mobile shell application mush that
has a local user interface so when you type
you see what you typed immediately so

let&#39;s talk about part one the protocol we call
it the state synchronization protocol it runs
over UDP and it synchronizes the state of
abstract objects so the protocol doesn&#39;t have
to know the inner details of these objects but
the object has to support a simple interface
the SSP has to be able to inquire of the
object hey here&#39;s the state that I think the
receiver has state 3 and I want to get them to
state between state 3 and state 9 and that&#39;s
just a string and that&#39;s what we convey over
the network and object also has to support the
universe operation patch to say ok number 3
here&#39;s a patch please mutate yourself to state
number 9 so any kind of object that supports
that interface can be conveyed over this
protocol but it&#39;s we don&#39;t know really the
meaning of the object or the meaning of
different patch you know

whether it&#39;s reliable whether it&#39;s exactly the
same or not it&#39;s the objects implementation
that ultimately defines the semantics of the
protocol not SSP so here&#39;s a diagram of SSH
this is the system we all know and have modest
affection for there&#39;s the application Emacs on
the left it gets conveyed over tcp encrypted
tcp to our terminal on the right so we&#39;re
going to fill this in here&#39;s SS here&#39;s maj
here&#39;s the design of maj so instead we&#39;re just
conveying that octet stream we actually
represent explicitly in blue here the state
that we&#39;re synchronizing we run two copies of
s SP two copies of the protocol the version
from server to client synchronizes this screen
object so we run a terminal emulator at the
server that spits out these screen objects and
that&#39;s what we synchronize at whatever rate we
want and we feed that to the clients terminal
emulator like X term and in the reverse
direction we just synchronize the keystrokes
that you type some of the more minor details
it&#39;s protected by the one of these
authenticated encryption modes there&#39;s no
privilege code an entire project nothing is
route you don&#39;t to be route to install it no
Damons

we use SSH to authenticate you in the first
place and this design makes it very easy to
roam because we&#39;re not using TCP anymore we&#39;re
not bound to IP addresses so roaming becomes
trivial the server just says ok what is the
latest authentic Datagram that I received from
the client the latest one and whatever the
source IP address important number of that
Datagram is ok that&#39;s my new target I&#39;m going
to send all the new packets to so this is the
simplest possible way to do roaming it works
very well and it means the client doesn&#39;t even
have to know that it&#39;s wrong the client could
be behind in that and in that roam where
that&#39;s still ok we have we tried to do fancy
flow control the goal is never fill up a
buffer we can skip over States in between
that&#39;s ok and we have some tricks that we
describe else or to try and balance the
robustness of the connection versus the
throughput ok now let&#39;s talk about the local
user interface so this is the diagram I showed
you but actually we going to add one little
feature in the upper right loop the predictive
local echo so instead of rendering directly
the service screen state we mutate a little
bit based on what we think is going to appear
we have a simple algorithm for this the client
runs a predictive model of the users of the
cert of the applications behavior the client
runs a pretty good model the applications
behavior in the background we think when you
type it&#39;s probably going to be echoed but
we&#39;re not sure because about echoed like in VI
you hit I to insert you know that in I never
appears on the screen so we try and make these
predictions in groups we call epics and the
hypothesis is that any epoch is either
entirely echoed or not echoed and so we start
predicting just in the background if any
prediction with an epoch gets confirm then we
show the whole epoch and if we make a mistake
no big deal we just take away the epoch and

if we if the user does something that we don&#39;t
know how to handle like it&#39;s the Enter key you
know or up and down and that sure it&#39;s gonna
happen we just increment the epoch so we keep
predicting but it&#39;s in the background so this
turns out to work pretty well and I&#39;ll show
you a demo here we&#39;re connected back to to my
desktop on the top screen we&#39;re typing in mosh
and the bottom screen we&#39;re typing in SSH and
then just running over the conference Wi-Fi so
if the Wi-Fi is good we&#39;re not going to see a
big difference so this is a real not rigged
demo let&#39;s see here so hello USENIX I am happy
to be here ok so that&#39;s basically similar now
let&#39;s say you know the conference Wi-Fi is
terrible you guys going to help me out there
let&#39;s switch over to the Sprint EVDO network
so we&#39;re roaming here disconnect it now Maj
gives you this helpful error message hey the
networks unreachable and then go way-hey you
know I haven&#39;t heard for the serve in a while
okay everything&#39;s goodness so now it appears
we&#39;ve roamed in both terminals mosh everything
looks good SSH everything looks good hey let&#39;s
let&#39;s keep typing boy am I happy that worked
oh my god what&#39;s happening so Maj keeps
working SSH is totally dead but it doesn&#39;t
even tell us it&#39;s dead that is the most
offensive part of SSH so now we have to do
this dance we have to kill it and then SSH
again this is like I could have graduated by
now okay so now this is over the sprint one
night let&#39;s put throw in a download here just
make it more fun testing what happens when I
type on the top with mosh and so you can see
if I try and edit type very aggressively on
the top whoops so you can see it&#39;s just much
more pleasant here and it underlines the show
you know hey these haven&#39;t been confirmed by
the server yet this is another another test so
you just you really couldn&#39;t even expect to
use SSH and still enjoy life so that&#39;s the
demo we evaluated at the details of evaluation
in the paper we found 70% of user keystrokes
can be displayed instantly so our media and
user interface response is zero it works over
lossy links we found that Unicode on UNIX is
still full of bugs the details of that are on
our website but you can see if you echo the
same string to four different terminal
emulators you get the circumflex in four
different places the Mac OS version has a
particular unique interpretation so we put a
lot of work into making this a well baked
application that you could use

it&#39;s distributed with all kinds of versions of
Linux and it&#39;s in the Mac the various Mac and
FreeBSD ports collections it works sort of on
cygwin and Solaris and even less on Android in
April someone else posted it before we were
ready to all these new sites slash dot vara
punto the spanish slash dot 1200 people have
signed up to get a notice when we ever fix a
bug this is where we immodestly show our
admiring tweets we got you know it seems to
have struck a nerve with people also we got a
rise out of the USENIX reviewers which we
enjoyed so people seem to be really using it
but

we think that you know this is not just about
a mobile shell protocol this sort of paradigm
of object synchronization we think is
appropriate for other applications our program
can roam but even very very well funded
applications for mobile devices nominally
intended for mobility are not mobile Android
Gmail Google Chat skyping jingle the website
all of these things will break without even
disclosing it when you roam that&#39;s just
ridiculous this is a snapshot from yesterday
from my Android device I sent this email on
February 6th or I tried to but as I was
looking out of our building the device you
know I lost the Wi-Fi signal so it roamed to
the cellular connection but because it
happened right in the middle of the transfer
Gmail got confused and this email still four
months later has not been sent so I Jessica&#39;s
like wondering where I am if any Google
employees in the office you want to come up
after the break help me send this email I&#39;d
appreciate it but the point the point is that
the old way of writing these programs for
mobile devices that it doesn&#39;t make the mobile
and they should be this is crazy other people
should adopt this paradigm we argue so in
summary we made SSP a new protocol we made
mash which uses it which has become very
popular but we argue that this paradigm is
probably useful we hope for other applications
and should deserve further review we encourage
you to visit the web page and I&#39;m honored to
have your questions questions Louis Bennett
from around here um we&#39;re trying to use this
someone has asked for this to be installed on
our systems but I&#39;m behind a firewall and I
want to know what ports I have to open and
what what arguments I&#39;m going to get from
Network security which aren&#39;t very friendly to
us sure I&#39;m happy to talk to you about that in
general you know you have to you have to open
as many ports on the machine as you want
concurrent connections because that&#39;s how we
identify the connection is just by the port
number since the IP address can change if you
want to allow 10 connections to a machine you
have to open 10 ports that&#39;s that&#39;s the story
but we&#39;re working on on a better answer that
question thank you time for one more what is
an analogy for that predictive echo for Gmail
is there any like she already has a pretty
good local user interface and when you type
you do see what you&#39;re typing immediately so I
don&#39;t think Gmail is actually as bad as the is
the terminal application Thanks ok thank you
very much thank you</code></pre></td></tr></table>
</div>
</div>

    </div>
    <div class="post-footer">
        <p>
        <a href="https://mullikine.github.io/">Latest articles</a>
        &nbsp;
        âš”
        &nbsp;
        <a href="https://mullikine.github.io/about/">About this weblog</a>
        &nbsp;
        âš”
        &nbsp;
        <a href="https://asciinema.org/~mullikine">Asciinema recordings</a>
        &nbsp;
        âš”
        &nbsp;
        <a href="https://mullikine.github.io/posts/blogs-and-vlogs/">Blogs and Vlogs</a>
        &nbsp;
        âš”
        &nbsp;
        <a href="https://mullikine.github.io/cv/">CV</a>
        &nbsp;
        âš”
        &nbsp;
        <a href="https://mullikine.github.io/tags/">Site Map</a>
        </p>
    </div>
  </article>

    </main>
  </body>
</html>

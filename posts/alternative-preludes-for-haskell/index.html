<!doctype html>
<html lang="en-us">
  <head>
    <title>Alternative preludes for Haskell // Bodacious Blog</title>
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.59.0-DEV" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="John Doe" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="https://mullikine.github.io/css/main.min.8a9490701cd0106ea5c20f0bb8ea6c369a19aa43c89488196378a052314afaf0.css" />

    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Alternative preludes for Haskell"/>
<meta name="twitter:description" content="Glossary Lazy IO haskell
Foundation Provide a better and more efficient prelude than base&rsquo;s prelude.
https://hackage.haskell.org/package/foundation
be self-sufficient: no external dependencies apart from base.
provide better data-types: packed unicode string by default, arrays.
Better numerical classes that better represent mathematical thing (No more all-in-one Num).
Better I/O system with less Lazy IO
Usual partial functions distinguished through type system
Lazy IO https://stackoverflow.com/questions/5892653/whats-so-bad-about-lazy-i-o
Lazy IO has the problem that releasing whatever resource you have acquired is somewhat unpredictable, as it depends on how your program consumes the data &ndash; its &ldquo;demand pattern&rdquo;."/>

    <meta property="og:title" content="Alternative preludes for Haskell" />
<meta property="og:description" content="Glossary Lazy IO haskell
Foundation Provide a better and more efficient prelude than base&rsquo;s prelude.
https://hackage.haskell.org/package/foundation
be self-sufficient: no external dependencies apart from base.
provide better data-types: packed unicode string by default, arrays.
Better numerical classes that better represent mathematical thing (No more all-in-one Num).
Better I/O system with less Lazy IO
Usual partial functions distinguished through type system
Lazy IO https://stackoverflow.com/questions/5892653/whats-so-bad-about-lazy-i-o
Lazy IO has the problem that releasing whatever resource you have acquired is somewhat unpredictable, as it depends on how your program consumes the data &ndash; its &ldquo;demand pattern&rdquo;." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://mullikine.github.io/posts/alternative-preludes-for-haskell/" />
<meta property="article:published_time" content="2019-10-17T00:00:00+13:00" />
<meta property="article:modified_time" content="2019-10-17T00:00:00+13:00" /><meta property="og:site_name" content="Bodacious Blog" />


  </head>
  <body>
    <header class="app-header">
      <a href="https://mullikine.github.io"><img class="app-header-avatar" src="http://mullikine.github.io/brainy.png" alt="John Doe" /></a>
      <h1>Bodacious Blog</h1>
      <p>Biosemiotics üåª Xenolingustics üëΩ and emacs üêÑ</p>
      <div class="app-header-social">
        
          <a target="_blank" href="https://github.com/mullikine"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github">
  <title>github</title>
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
</svg></a>
        
          <a target="_blank" href="https://linkedin.com/in/shane-mulligan-811b942b/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-linkedin">
  <title>linkedin</title>
  <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle>
</svg></a>
        
          <a target="_blank" href="https://gitlab.com/mullikine"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-gitlab">
  <title>gitlab</title>
  <path d="M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"></path>
</svg></a>
        
          <a target="_blank" href="https://www.facebook.com/shrubgrub"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-facebook">
  <title>facebook</title>
  <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
</svg></a>
        
          <a target="_blank" href="https://twitter.com/mullikine"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-twitter">
  <title>twitter</title>
  <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>
</svg></a>
        
        <a href="https://mullikine.github.io/cv/">CV</a>
      </div>
<div class="highlights">
<a href="https://mullikine.github.io/posts/practical-macros-in-racket-and-how-to-work-with-them/">Practical macros in Racket</a>
<br />
<a href="https://mullikine.github.io/posts/github-search-with-bigquery/">Searching GitHub with BigQuery</a>
<br />
<a href="https://mullikine.github.io/posts/review-of-the-illustrated-transformer/">The Illustrated Transformer</a>
<br />
<a href="https://mullikine.github.io/codelingo-vs-linters/main/">CodeLingo vs Linters</a>
<br />
<a href="https://mullikine.github.io/glossary.html">Glossary A-Z (70 topics)</a>
<div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">Alternative preludes for Haskell</h1>
      <div class="post-meta">
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Oct 17, 2019
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          2 min read
        </div></div>
    </header>
    

<link rel="stylesheet" type="text/css" href="https://mullikine.github.io/css/magit.css"/>

<script src="https://mullikine.github.io/js/mathjax-config.js"></script>
 
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_HTML"></script>


    <div class="post-content">
      

<h2 id="glossary">Glossary</h2>

<p>Lazy IO haskell</p>

<h2 id="foundation">Foundation</h2>

<p>Provide a better and more efficient prelude than base&rsquo;s prelude.</p>

<p><a href="https://hackage.haskell.org/package/foundation">https://hackage.haskell.org/package/foundation</a></p>

<p>be self-sufficient: no external dependencies apart from base.</p>

<p>provide better data-types: packed unicode string by default, arrays.</p>

<p>Better numerical classes that better represent mathematical thing (No more all-in-one Num).</p>

<p>Better I/O system with less Lazy IO</p>

<p>Usual partial functions distinguished through type system</p>

<h3 id="lazy-io">Lazy IO</h3>

<p><a href="https://stackoverflow.com/questions/5892653/whats-so-bad-about-lazy-i-o">https://stackoverflow.com/questions/5892653/whats-so-bad-about-lazy-i-o</a></p>

<p>Lazy IO has the problem that releasing
whatever resource you have acquired is
somewhat unpredictable, as it depends on how
your program consumes the data &ndash; its &ldquo;demand
pattern&rdquo;.</p>

<p>Once your program drops the last reference to
the resource, the GC will eventually run and
release that resource.</p>

<p>Lazy streams are a very convenient style to
program in.</p>

<p>This is why shell pipes are so fun and
popular.</p>

<p>However, if resources are constrained (as in
high-performance scenarios, or production
environments that expect to scale to the
limits of the machine) relying on the GC to
clean up can be an insufficient guarantee.</p>

<p>Sometimes you have to release resources
eagerly, in order to improve scalability.</p>

<p>So what are the alternatives to lazy IO that
don&rsquo;t mean giving up on incremental processing
(which in turn would consume too many
resources)?</p>

<p>Well, we have foldl based processing, aka
iteratees or enumerators, introduced by Oleg
Kiselyov in the late 2000s, and since
popularized by a number of networking-based
projects.</p>

<p>Instead of processing data as lazy streams, or
in one huge batch, we instead abstract over
chunk-based strict processing, with guaranteed
finalization of the resource once the last
chunk is read.</p>

<p>That&rsquo;s the essence of iteratee-based
programming, and one that offers very nice
resource constraints.</p>

<p>The downside of iteratee-based IO is that it
has a somewhat awkward programming model
(roughly analogous to event-based programming,
versus nice thread-based control).</p>

<p>It is definitely an advanced technique, in any
programming language.</p>

<p>And for the vast majority of programming
problems, lazy IO is entirely satisfactory.</p>

<p>However, if you will be opening many files, or
talking on many sockets, or otherwise using
many simultaneous resources, an iteratee (or
enumerator) approach might make sense.</p>

    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
  </body>
</html>
